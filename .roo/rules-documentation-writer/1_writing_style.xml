<writing_style_guide>
  <overview>
    Writing style for Roo Code documentation. The goal is clarity and trust, not personality.
    Optimize for reader momentum and capability discovery, not author completeness.
    All output must be markdown.
  </overview>

  <persona>
    <identity>
      Documentation sounds like a careful engineering teammate sitting next to you.
      Calm, precise, focused on what will happen next.
      It explains actions and consequences clearly and does not try to motivate, entertain, or reassure beyond what is factual.
    </identity>

    <primary_goal>
      Help the user make a correct decision in the moment.
      Every line should answer at least one of:
      <question>What is happening</question>
      <question>Why it matters</question>
      <question>What will happen if you proceed</question>
      <question>What to do next if something fails</question>
    </primary_goal>

    <summary>Documentation should read like a careful engineer describing system behavior, not like a product explaining itself.</summary>
  </persona>

  <tone>
    <qualities>
      <quality>Neutral</quality>
      <quality>Direct</quality>
      <quality>Predictable</quality>
      <quality>Low emotion</quality>
    </qualities>
    <constraints>
      <constraint>No hype</constraint>
      <constraint>No jokes</constraint>
      <constraint>No clever phrasing</constraint>
      <constraint>The UI is not a stage</constraint>
    </constraints>
  </tone>

  <sentence_style>
    <rules>
      <rule>Short sentences</rule>
      <rule>One idea per sentence</rule>
      <rule>Active voice</rule>
      <rule>Concrete verbs</rule>
    </rules>
    <note>Fragments are acceptable if clearer than full sentences.</note>
  </sentence_style>

  <language_rules>
    <use>
      <category name="specific_actions">run, write, open, delete, stop, approve</category>
      <category name="specific_artifacts">file, branch, PR, task, command, log</category>
      <category name="explicit_outcomes">will modify, will create, will stop</category>
    </use>
    <avoid>
      <category name="vague_verbs">handle, manage, process</category>
      <category name="abstract_nouns">solution, intelligence, capability</category>
      <category name="softening_language">might try to, could potentially</category>
    </avoid>
  </language_rules>

  <banned_words>
    <description>Avoid marketing jargon, buzzwords, and vague reassurance.</description>
    <words>
      <word>seamlessly</word>
      <word>comprehensive</word>
      <word>enhanced</word>
      <word>streamlined</word>
      <word>powerful</word>
      <word>improved</word>
      <word>intuitive</word>
      <word>state-of-the-art</word>
      <word>revolutionary</word>
      <word>robust</word>
      <word>easily</word>
      <word>simply</word>
    </words>
  </banned_words>

  <tradeoffs_and_risk>
    <rule>Be explicit when something is risky, slow, expensive, or irreversible.</rule>
    <rule>Do not apologize for tradeoffs. State them.</rule>
    <examples>
      <example>This will modify files in your workspace.</example>
      <example>Stopping this task may leave partial changes.</example>
      <example>Cloud execution costs more than local execution.</example>
    </examples>
  </tradeoffs_and_risk>

  <errors_and_warnings>
    <errors>
      <rule>State what failed</rule>
      <rule>State why if known</rule>
      <rule>Give one concrete next step</rule>
    </errors>
    <warnings>
      <rule>State the risk</rule>
      <rule>State the scope</rule>
      <rule>Ask for explicit confirmation</rule>
    </warnings>
    <constraint>No emotional language. No reassurance beyond facts.</constraint>
  </errors_and_warnings>

  <guidance_and_help>
    <rule>Guidance should explain what the system expects, not what the user should feel.</rule>
    <good_guidance_answers>
      <item>What input is required</item>
      <item>What constraints apply</item>
      <item>What success looks like</item>
    </good_guidance_answers>
    <constraint>Avoid instructional fluff or encouragement.</constraint>
  </guidance_and_help>

  <never_do>
    <item>Use humor</item>
    <item>Use marketing language</item>
    <item>Use vague reassurance</item>
    <item>Hide side effects</item>
    <item>Speak about future plans or unshipped features</item>
  </never_do>

  <decision_driven_outline>
    <overview>
      No fixed skeleton. Answer these questions in order, only if applicable.
      Omit aggressively. If the page reads like a form, it failed.
    </overview>
    <questions>
      <question order="1">What is the primary capability?</question>
      <question order="2">How do I use it in practice?</question>
      <question order="3">What choices or modes exist?</question>
      <question order="4">What can go wrong and how do I fix it?</question>
      <question order="5">Where do I go deeper?</question>
    </questions>
    <agent_instructions>
      <instruction>Remove all mandatory section scaffolding.</instruction>
      <instruction>Generate an outline based on feature complexity.</instruction>
      <instruction>Prefer fewer sections with stronger titles.</instruction>
      <instruction>Delete empty or obvious sections.</instruction>
      <instruction>Optimize for a reader skimming at 10 seconds.</instruction>
    </agent_instructions>
  </decision_driven_outline>

  <front_load_behavior>
    <rule>The first section must show what the feature does now.</rule>
    <rule>Use examples, tables, or UI references.</rule>
    <rule>Avoid conceptual framing unless needed.</rule>
    <principle>Context follows behavior, not the reverse.</principle>
  </front_load_behavior>

  <progressive_disclosure>
    <rule>Start with the default path.</rule>
    <rule>Expand into modes, levels, or configuration only after baseline usage.</rule>
    <rule>Troubleshooting is optional and last.</rule>
  </progressive_disclosure>

  <content_lint_checks>
    <description>
      Convert the old skeleton into validation checks, not templates.
      Fail only when a required answer is missing, not when a section is missing.
    </description>
    <checks>
      <check>Does the page explain why this exists? (if non-obvious)</check>
      <check>Does it show how to use it?</check>
      <check>Does it document decisions the user must make?</check>
      <check>Does it cover known failure modes? (if any exist)</check>
    </checks>
  </content_lint_checks>

  <heading_rules>
    <overview>Headings must name capabilities, not explanations. Be scannable in isolation.</overview>
    <requirements>
      <requirement>Name capabilities, not intent.</requirement>
      <requirement>Match UI labels, commands, or mental models.</requirement>
      <requirement>Be scannable in isolation.</requirement>
    </requirements>
    <examples>
      <bad>
        <heading>why_it_matters</heading>
        <heading>what_you_can_do</heading>
        <heading>Understanding the feature</heading>
      </bad>
      <good>
        <heading>Auto-executed Cascade commands</heading>
        <heading>Allow and deny lists</heading>
        <heading>Dedicated terminal</heading>
      </good>
    </examples>
  </heading_rules>

  <heading_and_toc_policy>
    <overview>Minimize right-sidebar ToC noise. Reserve H3 for jump-worthy anchors; prefer H4 for in-body sub-chunking.</overview>
    <rules>
      <rule>H1 is implicit (page title). Do not write H1 in the body.</rule>
      <rule>H2 = primary sections; aim for 3–6 per page.</rule>
      <rule>H3 = ToC-worthy anchors only. Target 0–2 per page; hard cap 4.</rule>
      <rule>H4 = break up long H2 sections without adding ToC items. Prefer H4 over H3 for minor subtopics.</rule>
      <rule>Disallow H5/H6 entirely.</rule>
      <rule>No orphan headings: any H2/H3/H4 must be followed by ≥2 sentences or a list.</rule>
      <rule>Any H3 under ~75 words or a single short paragraph must be demoted to H4.</rule>
      <rule>Convert chains of small H3s into a single H2 with a numbered list; use H4 callouts if needed.</rule>
      <rule>If an H4 exceeds ~200–250 words or needs substructure, split it into its own page rather than promoting inside the same page.</rule>
    </rules>
    <budgets>
      <page_h2>3–6</page_h2>
      <total_h3>typical ≤ 2, max 4</total_h3>
    </budgets>
    <author_workflow>
      <step>Outline H2 skeleton first.</step>
      <step>Mark jump-worthy items as H3 only if sidebar navigation helps.</step>
      <step>Everything else becomes H4 under the H2.</step>
      <step>Preview ToC; demote noisy H3s to H4s before publishing.</step>
    </author_workflow>
  </heading_and_toc_policy>

  <troubleshooting_pattern>
    <description>When troubleshooting is needed (optional, placed last):</description>
    <item>symptom</item>
    <item>cause</item>
    <item>fix</item>
    <item>prevention</item>
  </troubleshooting_pattern>

  <formatting>
    <guideline>Use structured headings, lists, and short paragraphs for scannability.</guideline>
    <guideline>In step-by-step guides, use simple numbered lists. Do not use headings for numbered steps.</guideline>
    <guideline>Provide clear, copy-pasteable code snippets.</guideline>
    <guideline>Assume user familiarity with basic concepts. Do not over-explain.</guideline>
    <guideline>After the initial introduction, add an HR with `---` before continuing. Use HRs sparingly outside of that.</guideline>
  </formatting>

  <discovery_principle>
    <rule>Before writing or editing, explore existing documentation to understand established patterns.</rule>
    <steps>
      <step>Use list_files to explore the documentation structure</step>
      <step>Read similar existing documents to understand the style</step>
      <step>Follow established patterns rather than imposing new ones</step>
    </steps>
  </discovery_principle>

  <before_writing_checklist>
    <item>Have I explored the existing documentation structure?</item>
    <item>Have I read similar documents to understand the established style?</item>
    <item>Am I following discovered patterns rather than making assumptions?</item>
    <item>Have I searched for existing content that might overlap with my changes?</item>
    <item>Does the first section show what the feature does, not explain why it exists?</item>
    <item>Are headings capability names, not abstract labels?</item>
    <item>Can a reader scanning for 10 seconds find what they need?</item>
  </before_writing_checklist>
</writing_style_guide>
