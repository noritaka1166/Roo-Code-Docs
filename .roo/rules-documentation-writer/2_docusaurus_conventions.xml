<docusaurus_conventions>
  <overview>
    Docusaurus-specific formatting rules for Roo Code documentation.
    Always explore the project structure to understand the actual directory layout before applying these conventions.
  </overview>

  <discovery_first>
    <principle>Always use list_files to discover the actual project structure before making assumptions about paths</principle>
    <principle>Check for existing patterns in similar files before creating new content</principle>
    <principle>Verify directory existence before referencing specific paths</principle>
  </discovery_first>

  <linking>
    <rule name="internal_links">
      <description>Use absolute paths from the documentation root. Do not include the `.md` extension.</description>
      <discovery_steps>
        <step>Use list_files to find the documentation root directory</step>
        <step>Identify the path structure used in existing documentation</step>
        <step>Follow the established pattern</step>
      </discovery_steps>
      <good>[Link to Guide](/intro/)</good>
      <bad>[Link to Guide](../intro.md)</bad>
    </rule>
    <rule name="site_alias">
      <description>Use `@site` for code imports or asset references from the project root. Do not use it for Markdown links.</description>
      <good>import Header from '@site/src/components/Header';</good>
      <bad>[Link](@site/docs/intro.md)</bad>
    </rule>
  </linking>

  <media>
    <rule name="images">
      <description>Discover the image storage location in the project before placing images.</description>
      <discovery_steps>
        <step>Use list_files to find where images are stored (commonly static/img)</step>
        <step>Check existing documentation for image reference patterns</step>
        <step>Follow the established convention</step>
      </discovery_steps>

      <policy>
        <when_to_use>
          <item>Clarify a decision point or non-obvious UI state</item>
          <item>Demonstrate outcome/results that text alone cannot convey</item>
        </when_to_use>
        <avoid>
          <item>Narrating obvious UI without decisions or implications</item>
          <item>Listing every field/tab in a screen</item>
        </avoid>
        <limits>
          <maxPerSection>1</maxPerSection>
          <maxPerPage>3</maxPerPage>
        </limits>
        <alt_text>
          <rule>Describe the action or outcome, not the chrome. Example: "Toggle Task Sync to enable cloud monitoring".</rule>
        </alt_text>
        <caption>Each screenshot must have a one-line "why this view matters" caption.</caption>
        <width_default>600</width_default>
        <format>Use HTML img tags per project rules. See Image Tag Format in .roorules.</format>
      </policy>

      <example>
<!-- First discover the actual image path structure, then use it -->
<img src="/img/installing/installing-2.png" alt="VS Code's Install from VSIX dialog" width="600" />
      </example>
    </rule>
  </media>

  <versioning>
    <rule name="no_version_numbers">
      <description>Do not include version numbers or phrases like "as of version X.Y" in general documentation.</description>
      <discovery_steps>
        <step>Use list_files to find version-related documentation directories</step>
        <step>Check for patterns like update-notes, changelog, or release directories</step>
        <step>Place version-specific information in the appropriate location</step>
      </discovery_steps>
    </rule>
  </versioning>

  <frontmatter>
    <rule name="metadata">
      <description>Check existing documentation files for frontmatter patterns before adding new ones.</description>
      <discovery_steps>
        <step>Read several existing documentation files to understand the frontmatter pattern</step>
        <step>Identify which fields are consistently used</step>
        <step>Follow the established pattern</step>
      </discovery_steps>
      <example>
---
description: A concise summary of the page content.
keywords:
  - relevant
  - keywords
  - for
  - search
---
      </example>
    </rule>
  </frontmatter>

  <redirects>
    <rule>When moving or renaming docs, add an explicit redirect in docusaurus.config.ts under plugin-client-redirects.</rule>
  </redirects>

  <general_discovery_workflow>
    <step number="1">Use list_files to explore the project structure</step>
    <step number="2">Read existing files similar to what you're creating/editing</step>
    <step number="3">Identify patterns in paths, formatting, and conventions</step>
    <step number="4">Follow the established patterns rather than assuming standard locations</step>
    <step number="5">When in doubt, ask for clarification rather than making assumptions</step>
  </general_discovery_workflow>

  <cohesion_guidelines>
    <guideline name="information_architecture">
      <description>Maintain logical information hierarchy and flow</description>
      <checks>
        <check>Does this content belong in the current section?</check>
        <check>Would users expect to find this information here?</check>
        <check>Does it follow the progression from basic to advanced?</check>
      </checks>
    </guideline>

    <guideline name="single_source_of_truth">
      <description>Each piece of information should have one authoritative location</description>
      <implementation>
        <step>Core information lives in one place</step>
        <step>Other locations reference the authoritative source</step>
        <step>Use includes or references rather than duplication</step>
      </implementation>
    </guideline>

    <guideline name="contextual_linking">
      <description>Connect related content through meaningful links</description>
      <best_practices>
        <practice>Link to prerequisites before advanced topics</practice>
        <practice>Provide "See also" sections for related content</practice>
        <practice>Ensure bidirectional linking where appropriate</practice>
      </best_practices>
    </guideline>
  </cohesion_guidelines>

  <cross_references>
    <heading_policy>See 1_writing_style.xml for heading/ToC rules</heading_policy>
    <validation_policy>See 3_validation_enforcement.xml for mandatory validation workflows</validation_policy>
  </cross_references>
</docusaurus_conventions>
