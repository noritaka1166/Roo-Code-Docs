---
description: Adds OpenRouter embeddings, Bedrock Global Inference, provider defaults/limits updates, and stability/UI fixes.
keywords:
  - roo code 3.30
  - new features
  - bug fixes
image: /img/v3.30.0/v3.30.0.png
---

# Roo Code 3.30 Release Notes (2025-11-03)

This release adds OpenRouter embeddings and Bedrock Global Inference, updates provider defaults and limits, and delivers stability and UI improvements.

<img src="/img/v3.30.0/v3.30.0.png" alt="Roo Code v3.30 Release" width="600" />

## OpenRouter Embeddings

We've added OpenRouter as an embedding provider for codebase indexing in Roo Code (thanks dmarkey!) ([#8973](https://github.com/RooCodeInc/Roo-Code/pull/8973)).

OpenRouter currently supports 7 embedding models, including the top‚Äëranking Qwen3 Embedding.

> **üìö Documentation**: See [Codebase Indexing](/features/codebase-indexing) and [OpenRouter Provider](/providers/openrouter).

## QOL Improvements

* Terminal settings cleanup with Inline as the default terminal and clearer options; shell integration default is disabled to reduce environment conflicts ([#8342](https://github.com/RooCodeInc/Roo-Code/pull/8342))
* File path tooltips show full paths on hover across reads/edits, directory listings, and search, reducing confusion in narrow layouts (thanks da2ce7!) ([#9030](https://github.com/RooCodeInc/Roo-Code/pull/9030))
* Home screen visuals refined for clarity and space usage ([#9057](https://github.com/RooCodeInc/Roo-Code/pull/9057))
* Chat diff appearance is clearer and easier to scan ([#8932](https://github.com/RooCodeInc/Roo-Code/pull/8932))
* Settings copy clarifies that an Error & Repetition Limit of 0 disables the mechanism ([#8965](https://github.com/RooCodeInc/Roo-Code/pull/8965))

## Bug Fixes

* Prevent message loss during queue drain race conditions to preserve message order and reliable chats ([#8955](https://github.com/RooCodeInc/Roo-Code/pull/8955))
* Requesty OAuth: auto-create a stable "Requesty" profile with a default model so sign-in completes reliably (thanks Thibault00!) ([#8699](https://github.com/RooCodeInc/Roo-Code/pull/8699))
* Cancel during streaming no longer causes flicker; you can resume in place, input stays enabled, and the spinner stops deterministically ([#8986](https://github.com/RooCodeInc/Roo-Code/pull/8986))
* Remove newline-only reasoning blocks from OpenAI-compatible responses for cleaner output and logs ([#8990](https://github.com/RooCodeInc/Roo-Code/pull/8990))
* "Disable Terminal Shell Integration" now links to the correct documentation section ([#8997](https://github.com/RooCodeInc/Roo-Code/pull/8997))
* Correct OpenRouter Mistral embedding dimension to 1536 to prevent vector size errors; existing Qdrant collections are recreated with the correct size for consistent similarity search ([#9028](https://github.com/RooCodeInc/Roo-Code/pull/9028))
* Revert the recent cancel/resume change that caused UI flicker and unreliable resumption, restoring the previous stable behavior ([#9032](https://github.com/RooCodeInc/Roo-Code/pull/9032))
* Eliminate UI flicker during task cancellation; the task view remains stable ([#9037](https://github.com/RooCodeInc/Roo-Code/pull/9037))
* Keep pinned models fixed at the top of long lists for faster access (thanks XiaoYingYo!) ([#8813](https://github.com/RooCodeInc/Roo-Code/pull/8813))
* Ensure Checkpoints commit to Roo‚Äôs shadow repository even when GIT_DIR is set in Dev Containers (thanks nonsleepr!) ([#8811](https://github.com/RooCodeInc/Roo-Code/pull/8811))
* Restore correct 32K maxTokens for Claude Opus 4.1 to avoid premature truncation (thanks kaveh-deriv!) ([#9046](https://github.com/RooCodeInc/Roo-Code/pull/9046))
* Fix dynamic provider model validation so provider switches use a valid default model without TypeErrors (thanks NotADev137!) ([#9054](https://github.com/RooCodeInc/Roo-Code/pull/9054))
* Include full user agent details in AWS Bedrock requests for better auditing and troubleshooting (thanks ajjuaire!) ([#9043](https://github.com/RooCodeInc/Roo-Code/pull/9043))
* Auto‚Äëretry on empty assistant response to prevent task cancellations (reporter: Akillatech) ([#9083](https://github.com/RooCodeInc/Roo-Code/pull/9083))
* Use ‚Äúsystem‚Äù role for non‚Äëstreaming OpenAI‚Äëcompatible requests to prevent provider errors (reporter: whitfin) ([#8216](https://github.com/RooCodeInc/Roo-Code/pull/8216))
* Prevent notification sound when messages are queued to auto‚Äëcontinue ([#8540](https://github.com/RooCodeInc/Roo-Code/pull/8540))

## Misc Improvements

* Add preserveReasoning flag to optionally include reasoning in API history so later turns can leverage prior reasoning; off by default and model‚Äëgated ([#8934](https://github.com/RooCodeInc/Roo-Code/pull/8934))
* Optional pre-push full test run via RUN_TESTS_ON_PUSH=true in .env.local; default behavior keeps pushes fast (tests skipped) ([#9055](https://github.com/RooCodeInc/Roo-Code/pull/9055))

## Provider Updates

* Chutes: dynamic/router provider so new models appear automatically; safer error logging and temperature applied only when supported ([#8980](https://github.com/RooCodeInc/Roo-Code/pull/8980))
* OpenAI‚Äëcompatible providers: handle `<think>` reasoning tags in streaming for consistent reasoning chunk handling ([#8989](https://github.com/RooCodeInc/Roo-Code/pull/8989))
* GLM 4.6: capture reasoning content in base OpenAI‚Äëcompatible provider during streaming ([#8976](https://github.com/RooCodeInc/Roo-Code/pull/8976))
* Fireworks: add GLM‚Äë4.6 to the model dropdown for stronger coding performance and longer context (thanks mmealman!) ([#8754](https://github.com/RooCodeInc/Roo-Code/pull/8754))
* Fireworks: add MiniMax M2 with 204.8K context and 4K output tokens; correct pricing metadata (thanks dmarkey!) ([#8962](https://github.com/RooCodeInc/Roo-Code/pull/8962))
* Set Claude Sonnet 4.5 as the default where available across Anthropic, Bedrock, OpenRouter, Claude Code, and Unbound ([#8922](https://github.com/RooCodeInc/Roo-Code/pull/8922))
* Cerebras zai‚Äëglm‚Äë4.6: 40,960 max output tokens and a 131,072‚Äëtoken context window; faster responses (~1,000 tok/s) (thanks sebastiand-cerebras!) ([#9024](https://github.com/RooCodeInc/Roo-Code/pull/9024))
* OpenRouter: add Qwen3‚ÄëEmbedding‚Äë0.6B (1024‚Äëdim) and 4B (2560‚Äëdim) for code indexing (thanks dmarkey!) ([#9060](https://github.com/RooCodeInc/Roo-Code/pull/9060))
* Moonshot: add kimi‚Äëk2‚Äëthinking (262k context) ([#9079](https://github.com/RooCodeInc/Roo-Code/pull/9079))
* MiniMax: add MiniMax‚ÄëM2‚ÄëStable and enable prompt caching for MiniMax models ([#9072](https://github.com/RooCodeInc/Roo-Code/pull/9072))